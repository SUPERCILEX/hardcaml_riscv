(rule
 (target simple.bin)
 (deps
  (:src simple.s)
  sample.lds)
 (action
  (progn
   (progn
    (run
     riscv64-linux-gnu-gcc
     -march=rv32i
     -mabi=ilp32
     -nostdlib
     -static
     -Tsample.lds
     %{src}
     -o
     simple)
    (run riscv64-linux-gnu-objcopy -O binary simple %{target})))))
